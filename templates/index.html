<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ç—Ä–æ–π–º–∞—Ç–µ—Ä–∏–∞–ª—ã</title>
    <link rel="stylesheet" href="/static/style.css?v=10">
</head>

<body>

<header class="fade-up">
    –ú–∞—Å—Ç–µ—Ä–æ–∫
</header>

<div id="cartCount">
    üõí –ö–æ—Ä–∑–∏–Ω–∞ (0)
</div>

<section class="fade-up">
    <h2>–ö–∞—Ç–∞–ª–æ–≥</h2>

    <div class="products">
        {% for p in products %}
        <div class="product fade-up">
            <h3>{{ p.name }}</h3>
            <p>–¶–µ–Ω–∞: {{ p.price }} ‚ÇΩ</p>
            <button onclick="addToCart('{{ p.name }}', {{ p.price }})">
                –ö—É–ø–∏—Ç—å
            </button>
        </div>
        {% endfor %}
    </div>
</section>

<section class="fade-up">
    <h2>–ó–∞—è–≤–∫–∞ –≤ –∫–æ–º–∞–Ω–¥—É</h2>
    <form method="post" action="/team">
        <input type="text" name="name" placeholder="–í–∞—à–µ –∏–º—è" required>
        <input type="text" name="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" required>
        <select name="service">
            <option>–î–æ—Å—Ç–∞–≤–∫–∞</option>
            <option>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</option>
            <option>–û–ø—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑</option>
        </select>
        <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>
</section>

<button id="toTop">‚Üë</button>

<!-- ===== CART MODAL ===== -->
<div id="cartModal" class="cart-modal">
    <div class="cart-content fade-up">
        <h3>–ö–æ—Ä–∑–∏–Ω–∞</h3>
        <ul id="cartItems"></ul>
        <button onclick="clearCart()">–û—á–∏—Å—Ç–∏—Ç—å</button>
        <button onclick="closeCart()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
</div>

<script>
/* ===== SCROLL TO TOP ===== */
const toTopBtn = document.getElementById("toTop");

window.addEventListener("scroll", () => {
    toTopBtn.style.display = window.scrollY > 300 ? "block" : "none";
});

toTopBtn.onclick = () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
};

/* ===== CART (–ü–†–û–°–¢–û –ò –°–¢–ê–ë–ò–õ–¨–ù–û) ===== */
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function saveCart() {
    localStorage.setItem("cart", JSON.stringify(cart));
}

function updateCart() {
    document.getElementById("cartCount").innerText =
        "üõí –ö–æ—Ä–∑–∏–Ω–∞ (" + cart.length + ")";
}

function addToCart(name, price) {
    cart.push({ name, price });
    saveCart();
    update
